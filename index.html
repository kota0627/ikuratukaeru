<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>今月いくら使えるくん</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <!-- アプリ本体（UIは script.js で描画・操作） -->
  <div id="app"></div>

  <!-- ================= Firebase 初期化 ================= -->
  <script type="module">
    /* --- SDK 読み込み --- */
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.7.1/firebase-app.js";
    import {
      getFirestore, collection, addDoc, getDoc, setDoc,
      getDocs, doc, query, where
    } from "https://www.gstatic.com/firebasejs/11.7.1/firebase-firestore.js";
    import {
      getAuth, createUserWithEmailAndPassword,
      signInWithEmailAndPassword, onAuthStateChanged
    } from "https://www.gstatic.com/firebasejs/11.7.1/firebase-auth.js";

    /* --- あなたの Firebase 設定 --- */
    const firebaseConfig = {
      apiKey: "AIzaSyCz8ZSNckbmrACW4cJqKx1I4GSQNyjDRkM",
      authDomain: "ikurakun-firebase.firebaseapp.com",
      projectId: "ikurakun-firebase",
      storageBucket: "ikurakun-firebase.appspot.com",
      messagingSenderId: "492357155886",
      appId: "1:492357155886:web:9a81837ea8361d2d0ef3bf"
    };

    /* --- 初期化 --- */
    const app  = initializeApp(firebaseConfig);
    const db   = getFirestore(app);
    const auth = getAuth(app);

    /* --- グローバル公開（script.js から使えるように） --- */
    window.db  = db;
    window.auth = auth;

    window.collection = collection;
    window.addDoc     = addDoc;
    window.getDoc     = getDoc;
    window.setDoc     = setDoc;
    window.getDocs    = getDocs;
    window.doc        = doc;
    window.query      = query;
    window.where      = where;

    window.createUserWithEmailAndPassword = createUserWithEmailAndPassword;
    window.signInWithEmailAndPassword     = signInWithEmailAndPassword;
    window.onAuthStateChanged             = onAuthStateChanged;
  </script>
  <!-- ================================================== -->

  <!-- アプリ本体のロジック -->
  <script src="script.js" defer></script>
</body>
</html>
